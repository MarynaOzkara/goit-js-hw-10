{"mappings":"AAQA,MAAMA,EAAeC,SAASC,cAAc,iBAEtCC,GADUF,SAASC,cAAc,aACjBD,SAASC,cAAc,YACvCE,EAAeH,SAASC,cAAc,UAE5C,IAAIG,EAAe,GAEnBL,EAAaM,UAAUC,IAAI,aAC3BH,EAAaE,UAAUC,IAAI,aAC3BJ,EAAcG,UAAUC,IAAI,aCZ5BC,MAAM,qHACLC,MAAMC,IACH,IAAIA,EAASC,GACT,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,MAAM,IDWrBL,MAAMM,IACHf,EAAaM,UAAUU,OAAO,aAG9BD,EAAOA,EAAKE,QAAOC,I,IAAMC,EAAA,OAAgB,OAAP,QAATA,EAAAD,EAAIE,aAAK,IAATD,OAAA,EAAAA,EAAWE,IAAS,IAE7ChB,EAAeU,EAEf,IAAK,IAAIO,EAAI,EAAGA,EAAIjB,EAAakB,OAAQD,IAAK,CAC9C,MAAME,EAAQnB,EAAaiB,GAC3B,IAAIG,EAASxB,SAASyB,cAAc,UAGhCF,EAAMJ,QAGVK,EAAOE,MAAQL,EACfG,EAAOG,UAAY,GAAGJ,EAAMK,OAC5BJ,EAAOK,GAAK,GAAGN,EAAMM,KACrB9B,EAAa+B,YAAYN,G,KASxBO,OAAOC,GACRC,QAAQC,IAAIF,IACZjC,EAAaM,UAAUC,IAAI,eAG/BP,EAAaoC,iBAAiB,SAC9B,WAEC,IAAIC,EAAU,KACX,IAAK,IAAIZ,KAAUzB,EAAasC,QAExBb,EAAOc,WACPF,EAAUZ,EAAOK,IAIzBI,QAAQC,IAAIE,GClDpB7B,MAAM,+IACLC,MAAMC,IACH,IAAIA,EAASC,GACT,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAAS8B,MAAM,IACvB/B,MAAMM,IACLmB,QAAQC,IAAIpB,EAAK,G","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\nimport './css/style.css';\nexport let breedId; \n\n// const BASE_URL = 'https://api.thecatapi.com/v1';\n// const KEY = 'live_Hx8ktcm4HlPDrS1GRWIi3bNhI3TJEE42Jh3p70JuRDlHt9ZNF2P1iv3LNdA1a34e';\n\nconst selectBreeds = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loaderMassege = document.querySelector('.loader');\nconst errorWarning = document.querySelector('.error');\n\nlet storedBreeds = [];\n\nselectBreeds.classList.add('is-hidden');\nerrorWarning.classList.add('is-hidden');\nloaderMassege.classList.add('is-hidden');\n\n\n    fetchBreeds()\n    .then((data) => {\n        selectBreeds.classList.remove('is-hidden'); \n            \n        //filter to only include those with an `image` object\n        data = data.filter(img=> img.image?.url!=null)\n            \n        storedBreeds = data;\n    \n        for (let i = 0; i < storedBreeds.length; i++) {\n        const breed = storedBreeds[i];\n        let option = document.createElement('option');\n        \n        //skip any breeds that don't have an image\n        if(!breed.image)continue\n        \n        //use the current array index\n        option.value = i;\n        option.innerHTML = `${breed.name}`;\n        option.id = `${breed.id}`;\n        selectBreeds.appendChild(option);\n        // let breedId = breed.id;\n        \n        // console.log(breedId);\n        }\n        //show the first breed by default\n        // showBreedImage(0)\n       \n        })\n        .catch((err) =>\n        console.log(err), \n        selectBreeds.classList.add('is-hiddden'),\n    )\n\n    selectBreeds.addEventListener('click', onClick);\n    function onClick() {\n        \n     let breedId = null;\n        for (let option of selectBreeds.options)\n        {\n            if (option.selected) {\n                breedId = option.id;\n                \n            }\n        }\n        console.log(breedId);   \n        fetchCatByBreed();  \n    }\n    \n// function createMarkup(arr) {\n//     return arr.map((name) => `<p>${name}</p>`).join('');\n    \n// }\n\n    // fetchCatByBreed()\n    // .then((data) => \n    // console.log(data)\n    // )\n    // .catch((err) =>\n    // console.log(err)\n    // )\n\n    \n\n        // function showBreedImage(i)\n        // {\n        //     let catImage = document.createElement('img'); \n        //     catImage.src= storedBreeds[i].image.url;\n          \n        //   catInfo.textContent= storedBreeds[i].temperament\n          \n        // }    \n    \n  ","import { breedId } from './index';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst KEY = 'live_Hx8ktcm4HlPDrS1GRWIi3bNhI3TJEE42Jh3p70JuRDlHt9ZNF2P1iv3LNdA1a34e';\n\nexport const fetchBreeds = () =>\nfetch(`${BASE_URL}/breeds?api_key=${KEY}`)\n.then((response) => {\n    if(!response.ok) {\n        throw new Error(response.status);\n    }\n    return response.json();     \n})\n\n\nexport const fetchCatByBreed = () => \nfetch(`${BASE_URL}/images/search?breed_id=${breedId}&api_key=${KEY}`)\n.then((response) => {\n    if(!response.ok) {\n        throw new Error(response.status);\n    }\n    return response.blob(); \n}).then((data) => {\n    console.log(data);\n})"],"names":["$1f0dc3b9307be026$var$selectBreeds","document","querySelector","$1f0dc3b9307be026$var$loaderMassege","$1f0dc3b9307be026$var$errorWarning","$1f0dc3b9307be026$var$storedBreeds","classList","add","fetch","then","response","ok","Error","status","json","data","remove","filter","img","ref","image","url","i","length","breed","option","createElement","value","innerHTML","name","id","appendChild","catch","err","console","log","addEventListener","breedId1","options","selected","blob"],"version":3,"file":"index.4ae8522b.js.map"}